from django.test import TestCase
import scheduler.tests
from scheduler.models import TLE
from scheduler.services import services
# Create your tests here.

class updateTLETest(TestCase):

	#data gets pulled in from website, check first few entries are sane? requests job?
	#gets parsed
	#put in db
	#gets taken out

	def test_data_is_parsed_correctly(self):
		
		# tle = """UKUBE-1                 
		# 1 40074U 14037F   16351.15797132  .00000492  00000-0  67259-4 0  9999
		# 2 40074  98.3383  92.0430 0003526 288.8632  71.2189 14.83319284132043
		# BRITE-PL 2              
		# 1 40119U 14049B   16351.23028354  .00000124  00000-0  21435-4 0  9992
		# 2 40119  97.9494  72.0120 0016800 330.2015  29.8241 14.84047733126028
		# FIREBIRD 4              
		# 1 40378U 15003C   16351.15866620  .00002775  00000-0  12463-3 0  9991
		# 2 40378  99.1055 132.9919 0138968 248.1041 110.5361 15.14135937103305"""

		endresult = ['UKUBE-1 ', 
		'1 40074U 14037F 16351.15797132 .00000492 00000-0 67259-4 0 9999 ', 
		'2 40074 98.3383 92.0430 0003526 288.8632 71.2189 14.83319284132043 ',
		'BRITE-PL 2 ',
		'1 40119U 14049B 16351.23028354 .00000124 00000-0 21435-4 0 9992 ',
		'2 40119 97.9494 72.0120 0016800 330.2015 29.8241 14.84047733126028 ',
		'FIREBIRD 4 ',
		'1 40378U 15003C 16351.15866620 .00002775 00000-0 12463-3 0 9991 ',
		'2 40378 99.1055 132.9919 0138968 248.1041 110.5361 15.14135937103305 ',]

		tle1 ="""UKUBE-1                 \r\n1 40074U 14037F   16351.15797132  .00000492  00000-0  67259-4 0  9999\r\n2 40074  98.3383  92.0430 0003526 288.8632  71.2189 14.83319284132043\r\nBRITE-PL 2              \r\n1 40119U 14049B   16351.23028354  .00000124  00000-0  21435-4 0  9992\r\n2 40119  97.9494  72.0120 0016800 330.2015  29.8241 14.84047733126028\r\nFIREBIRD 4              \r\n1 40378U 15003C   16351.15866620  .00002775  00000-0  12463-3 0  9991\r\n2 40378  99.1055 132.9919 0138968 248.1041 110.5361 15.14135937103305"""

		final = services.filterTLE(services.splitTLE(tle1))
		print(endresult)
		self.assertIs(endresult==final, True)



	#test view when there is one