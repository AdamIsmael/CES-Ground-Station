
from .services import services 
from django.test import TestCase
# Create your tests here. 

class updateTLETest(TestCase): 	
#data gets pulled in from website, check first few entries are sane? requests job? 	
#gets parsed 	
#put in db 	#gets taken out 	


	def test_data_from_celestrak_is_valid(self):

		tleArray1 = [
		'EYESAT-1 (AO-27)',
		'1 22825U 93061C   17011.87921041 -.00000014  00000-0  12008-4 0  9991', 
		'2 22825  98.7903 335.7306 0009458  70.2997 289.9204 14.29982572215061', 
		'CUTE-1 (CO-55)', 
		'1 27844U 03031E   17012.57520683  .00000056  00000-0  44979-4 0  9997',
		'2 27844  98.6913  23.8380 0010757  79.0163 281.2224 14.22008047702203', 
		'CUBESAT XI-IV (CO-57)', 	
		'1 27848U 03031J   17011.75882937  .00000044  00000-0  39844-4 0  9995', 	
		'2 27848  98.7007  23.2239 0010701  89.1852 271.0552 14.21626517701976',
		'mostwrong',
		'1 wowsowrong1231',
		'2 couldi34v beanym34orew2 3rong',
		'M-CUBED & EXP-1 PRIME',   
		'1 37855U 11061F   17011.86088514  .00001922  00000-0  10927-3 0  9993',
		'2 37855 101.7157 163.8757 0183039 182.8914 177.1254 15.02379487283316',
		'SWISSCUBE',     
		'1 35932U 09051B   17012.34187112  .00000118  00000-0  37698-4 0  9992',
		'2 35932  98.4726 148.2822 0007800  18.8768 341.2717 14.55942386387640',
		'TIANWANG 1A (TW-1A)',     
		'1 40928U 15051D   17012.78841078  .00002327  00000-0  71003-4 0  9998',
		'2 40928  97.2476  51.3649 0014522  42.3053  46.5607 15.34836540 72858',
		'madeupsat',
		'1 41895U 98067KR   7012.47827931  .00011364  00000-0  17301-3 0  9999',
		'2 41895  51.6434  94.4040 0005661  96.0874 264.0617 15.55009568  3716',
		'madeupsat1',
		'1 41895U 98067KR    012.47827931  .00011364  00000-0  17301-3 0  9999',
		'2 41895  51.6434  94.4040 0005661  96.0874 264.0617 15.55009568  3716',
		'madeupsat2',
		'1 41895U 98067KR     12.47827931  .00011364  00000-0  17301-3 0  9999',
		'2 41895  51.6434  94.4040 0005661  96.0874 264.0617 15.55009568  3716',
		'madeupsat3',
		'1 41895U 98067KR     2.47827931  .00011364  00000-0  17301-3 0  9999',
		'2 41895  51.6434  94.4040 0005661  96.0874 264.0617 15.55009568  3716',
		'madeupsat4',
		'1 41895U 98067KR     2.47827931  .00011364  00000-0  17301-3 0  9999',
		'2 41895  51.6434  04.4040 0005661  96.0874 264.0617 15.55009568  3716',
		'madeupsat5',
		'1 41895U 98067KR     2.47827931  .00011364  00000-0  17301-3 0  9999',
		'2 41895  51.6434  4.4040 0005661  96.0874 264.0617 15.55009568  3716',
]

		checkedArray = services.checkTLEFormat(tleArray1)
		#print(checkedArray)
		shouldBe = [
		'EYESAT-1 (AO-27)',
		'1 22825U 93061C   17011.87921041 -.00000014  00000-0  12008-4 0  9991', 
		'2 22825  98.7903 335.7306 0009458  70.2997 289.9204 14.29982572215061', 
		'CUTE-1 (CO-55)', 
		'1 27844U 03031E   17012.57520683  .00000056  00000-0  44979-4 0  9997',
		'2 27844  98.6913  23.8380 0010757  79.0163 281.2224 14.22008047702203', 
		'CUBESAT XI-IV (CO-57)', 	
		'1 27848U 03031J   17011.75882937  .00000044  00000-0  39844-4 0  9995', 	
		'2 27848  98.7007  23.2239 0010701  89.1852 271.0552 14.21626517701976',
		'M-CUBED & EXP-1 PRIME',   
		'1 37855U 11061F   17011.86088514  .00001922  00000-0  10927-3 0  9993',
		'2 37855 101.7157 163.8757 0183039 182.8914 177.1254 15.02379487283316',
		'SWISSCUBE',            
		'1 35932U 09051B   17012.34187112  .00000118  00000-0  37698-4 0  9992',
		'2 35932  98.4726 148.2822 0007800  18.8768 341.2717 14.55942386387640',
		'TIANWANG 1A (TW-1A)',     
		'1 40928U 15051D   17012.78841078  .00002327  00000-0  71003-4 0  9998',
		'2 40928  97.2476  51.3649 0014522  42.3053  46.5607 15.34836540 72858',
		]

		self.assertIs(shouldBe==checkedArray,True)

	# def test_data_is_parsed_correctly(self): 				

	# 	# tle = """UKUBE-1                 		
	# 	# 1 40074U 14037F   16351.15797132  .00000492  00000-0  67259-4 0  9999 		
	# 	# 2 40074  98.3383  92.0430 0003526 288.8632  71.2189 14.83319284132043 		
	# 	# BRITE-PL 2              		
	# 	# 1 40119U 14049B   16351.23028354  .00000124  00000-0  21435-4 0  9992 		
	# 	# 2 40119  97.9494  72.0120 0016800 330.2015  29.8241 14.84047733126028 		
	# 	# FIREBIRD 4              		
	# 	# 1 40378U 15003C   16351.15866620  .00002775  00000-0  12463-3 0  9991 		
	# 	# 2 40378  99.1055 132.9919 0138968 248.1041 110.5361 15.14135937103305""" 		

	# 	shoudBe = ['UKUBE-1 ',
	# 	'1 40074U 14037F 16351.15797132 .00000492 00000-0 67259-4 0 9999 ', 
	# 	'2 40074 98.3383 92.0430 0003526 288.8632 71.2189 14.83319284132043 ', 
	# 	'BRITE-PL 2 ', 
	# 	'1 40119U 14049B 16351.23028354 .00000124 00000-0 21435-4 0 9992 ',
	# 	'2 40119 97.9494 72.0120 0016800 330.2015 29.8241 14.84047733126028 ', 
	# 	'FIREBIRD 4 ', 	
	# 	'1 40378U 15003C 16351.15866620 .00002775 00000-0 12463-3 0 9991 ', 	
	# 	'2 40378 99.1055 132.9919 0138968 248.1041 110.5361 15.14135937103305 ',] 	
	# 	tle1 ="""UKUBE-1                 \r\n1 40074U 14037F   16351.15797132  .00000492  00000-0  67259-4 0  9999\r\n2 40074  98.3383  92.0430 0003526 288.8632  71.2189 14.83319284132043\r\nBRITE-PL 2              \r\n1 40119U 14049B   16351.23028354  .00000124  00000-0  21435-4 0  9992\r\n2 40119  97.9494  72.0120 0016800 330.2015  29.8241 14.84047733126028\r\nFIREBIRD 4              \r\n1 40378U 15003C   16351.15866620  .00002775  00000-0  12463-3 0  9991\r\n2 40378  99.1055 132.9919 0138968 248.1041 110.5361 15.14135937103305""" 		

	# 	final = services.filterTLE(services.splitTLE(tle1)) 		
	# 	print(endresult) 		
	# 	self.assertIs(shoudBe==final, True)